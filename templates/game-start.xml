<fest:template xmlns:fest="http://fest.mail.ru" context_name="data">
    <div class="wrapper wrapper_center">
        <h1>Новая игра</h1>
        <h4><a href="#">← главное меню</a></h4>
        <div class="game-field-creator">
            <div class="game-field-creator__ships">
                <div class="game-field-creator__ships-help">Чтобы поместить корабль на поле, нажмите на корабль, а потом на клетку поля, в которую его нужно поместить. Чтобы повернуть корабль на поле, нажмите на него.</div>
                <fest:for iterate="data.ships" index="k" value="ship">
                    <div class="game-field__ship-line">
                        <fest:for from="1" to="ship.count" index="k1">
                            <div>
                                <fest:attributes>
                                    <fest:attribute name="class">
                                        js-ship game-field__ship game-field__ship_<fest:value>ship.decks</fest:value>
                                    </fest:attribute>
                                    <fest:attribute name="data-decks">
                                        <fest:value>ship.decks</fest:value>
                                    </fest:attribute>
                                </fest:attributes>
                            </div>
                        </fest:for>
                    </div>
                </fest:for>

                <div class="game-field-creator__modes">
                    <fest:for iterate="data.modes" index="k" value="mode">
                        <fest:script> var notIsFirst = k > 0; </fest:script>
                        <fest:if test="notIsFirst"><fest:space />/<fest:space /></fest:if>
                        <a href="" class="game-field-creator__mode js-mode">
                            <fest:attributes>
                                <fest:attribute name="data-provider"><fest:value>mode.provider</fest:value></fest:attribute>
                                <fest:attribute name="data-mode"><fest:value>mode.mode</fest:value></fest:attribute>
                            </fest:attributes>
                            <fest:value>mode.text</fest:value>
                        </a>
                    </fest:for>
                </div>

                <button class="game-field-creator__button game-field-creator__button_green js-button-ready" disabled="disabled">Готово</button>
                <button class="game-field-creator__button game-field-creator__button_orange js-button-clear">Сбросить</button>
            </div>
            <div class="game-field-creator__field">
                <fest:value output="text">data.field</fest:value>
            </div>
        </div>
    </div>
</fest:template>
